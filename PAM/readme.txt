Проект P.A.M.

Цель проекта:
- запустить заданную пользователем последовательность действий на плате
Arduino. Последовательность действий может включать в себя следующие команды,
заданные в произвольном порядке:

1 Насыщающий свет (включить диоды l = 460 nm)
2 Вспомогательный свет (включить диоды l = 660 nm)
3 Фото во вспомогальном свете (включть камеру и светодиоды l = 660 nm)
4 Темновой кадр (экспозиция устанавливается для всего эксперимента)
5 Выключть все
6 Измерительный кадр в насыщающем свете (включает камеру + вспышка + насыщающий свет)
7 Измерительный кадр в актиничном свете (включает камеру + вспышка + актиничный свет)
8 Актиничный свет (включить диоды l= 460 nm со слабой интенсивностью)
9 Измерительный кадр в темноте

- Получить отклик на заданную последовательность в виде набора изображений
с видеокамеры Mightex и сохранить их в архив.

todo: описание архива


- Предусмотреть возможность управления внешним устройством на базе платы
Arduino. Управление внешним устройством предусматривает выполнение следующих
команд:

1. Включить/выключить светодиоды 460 nm
2. Включить/выключить светодиоды 660 nm
1. Включить/выключить видеокамеру

-----===== Главное меню программы ====-----
Файлы
        Новый
        Открыть
        Сохранить
        Сохранить как
        Выход
Устройство
        Проверить наличие платы
        Включить светодиод 460 nm
        Включить светодиод 660 nm
        Включить камеру
        Выполнить эксперимент
Настройка
        Опции
Помощь
        О программе

----==== Редактор последовательности команд ====----
Последовательность команд представляет собой таблицу, размещенную в
компоненте TStringGrid. Для редактирования команд используется
диалоговая панель редактора команд.

Команды редактора последовательности:
1. Добавать команду
2. Удалитить команду
3. Редактировать команду

Вызов команд редактора последовательности осуществляется с использованием
всплывающего меню и панели с соответствующими кнопками.


----==== Параметры настройки программы ====----

1. Расположение архива на диске.
2. Интенсивность свечения светодиодов.
3. Открывать архив по окончании эксперимента.
4. Значение экспозиции.
5. Значение усиления.
6. Длительность измерительной вспышки.
7. Задержка измерительной вспышки от начала экспозиции.

----==== Установка экспозиции ====----

Эуспозиция устанавливается с помощью двух переключателей.
1. Грубое переключение задает диапазон изменения экспозиции. Возможные диапазоны
изменения экспозицц [t0-t1]:
        - 0.05 ms - 5 ms
        - 0.1 ms  - 10 ms
        - 1 ms    - 100 ms

2. Точная установка экспозиции внутри диапазона изменения (t).
   e = t0*t, где t = [1..100] - регулятор точной установки экспозиции, t0 -
   начало диапазона грубой установки экспозиции.


----==== Установка усиления ====----

Усиление сигнала с видеокамеры может изменяться с использванием регулятора Gain
от 6 до 41 dB




Эксперимент в виде таблицы.
==========================
Команды:                                                Значение        Символ
№ Команда
1 Насыщающий свет (включить диоды l = 460 nm)           1               TURNON460
2 Вспомогательный свет (включить диоды l = 660 nm)      2               TURNON660
3 Фото во вспомогальном свете                           3               TURNON_CAM_660
4 Темновой кадр                                         4               TURNON_CAM
5 Выключть все                                          5               TURN_OFF
6 Измерительный кадр в насыщающем свете                 6               TURNON_CAM_460
7 Измерительный кадр в актиничном свете                 7               TURNON_CAM_460_ACT
8 Актиничный свет                                       8               TURNON460_ACT
9 Измерительный кадр в темноте                          9               TURNON_CAM_FLASH

Описание команд:

TURNON460 Насыщающий свет
Включает светодиод с длиной волны 460 nm

Параметры действия:
Время           - длительность в миллисекундах[1..100000]
Интенсивность   - % [0..100]



Пример таблицы:

4       100     0       // делаем снимок без подсветки
1       10      100     // насыщающий свет 10 ms с полной интенсивностью
5       1000    0       // выключаем все на 1 сек
3       100     0       // делаем снимок с подсветкой


